import{ai as K,g as j,L as q,a2 as X,u as Z,aj as I,S as x,A as _,o as p,K as J,Z as m,k as Q,v as ee,C as F,H as te,D as d,ak as N,P as R,al as k,am as b,an as P,ao as se,ap as L,aq as W,ar as re,T as D,n as S,as as ie,y as ne,at as B,au as ae,a9 as oe,av as le,aw as ue,V as Y,ax as ce,a8 as he,ay as fe,az as de,N as _e,aA as O,q as pe,aB as ge,ad as C,z as T,aC as ve,X as ye,M as be,aD as Ee,j as me,b as we,a7 as Te,B as ke,ac as Se,p as Ae}from"./template.DEgnVE_r.js";function Ne(t){let e=0,r=q(0),i;return()=>{K()&&(j(r),X(()=>(e===0&&(i=Z(()=>t(()=>I(r)))),e+=1,()=>{x(()=>{e-=1,e===0&&(i?.(),i=void 0,I(r))})})))}}var Re=oe|le|ue;function De(t,e,r){new Le(t,e,r)}class Le{parent;#r=!1;#t;#p=p?_:null;#i;#c;#n;#s=null;#e=null;#a=null;#o=null;#h=0;#l=0;#f=!1;#u=null;#v=()=>{this.#u&&J(this.#u,this.#h)};#y=Ne(()=>(this.#u=q(this.#h),()=>{this.#u=null}));constructor(e,r,i){this.#t=e,this.#i=r,this.#c=i,this.parent=m.b,this.#r=!!this.#i.pending,this.#n=Q(()=>{if(m.b=this,p){const n=this.#p;ee(),n.nodeType===F&&n.data===te?this.#E():this.#b()}else{try{this.#s=d(()=>i(this.#t))}catch(n){this.error(n)}this.#l>0?this.#_():this.#r=!1}},Re),p&&(this.#t=_)}#b(){try{this.#s=d(()=>this.#c(this.#t))}catch(e){this.error(e)}this.#r=!1}#E(){const e=this.#i.pending;e&&(this.#e=d(()=>e(this.#t)),N.enqueue(()=>{this.#s=this.#d(()=>(N.ensure(),d(()=>this.#c(this.#t)))),this.#l>0?this.#_():(R(this.#e,()=>{this.#e=null}),this.#r=!1)}))}is_pending(){return this.#r||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#d(e){var r=m,i=L,n=W;k(this.#n),b(this.#n),P(this.#n.ctx);try{return e()}catch(s){return se(s),null}finally{k(r),b(i),P(n)}}#_(){const e=this.#i.pending;this.#s!==null&&(this.#o=document.createDocumentFragment(),Oe(this.#s,this.#o)),this.#e===null&&(this.#e=d(()=>e(this.#t)))}#g(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(e);return}this.#l+=e,this.#l===0&&(this.#r=!1,this.#e&&R(this.#e,()=>{this.#e=null}),this.#o&&(this.#t.before(this.#o),this.#o=null))}update_pending_count(e){this.#g(e),this.#h+=e,re.add(this.#v)}get_effect_pending(){return this.#y(),j(this.#u)}error(e){var r=this.#i.onerror;let i=this.#i.failed;if(this.#f||!r&&!i)throw e;this.#s&&(D(this.#s),this.#s=null),this.#e&&(D(this.#e),this.#e=null),this.#a&&(D(this.#a),this.#a=null),p&&(S(this.#p),ie(),S(ne()));var n=!1,s=!1;const o=()=>{if(n){ce();return}n=!0,s&&ae(),N.ensure(),this.#h=0,this.#a!==null&&R(this.#a,()=>{this.#a=null}),this.#r=this.has_pending_snippet(),this.#s=this.#d(()=>(this.#f=!1,d(()=>this.#c(this.#t)))),this.#l>0?this.#_():this.#r=!1};var c=L;try{b(null),s=!0,r?.(e,o),s=!1}catch(u){B(u,this.#n&&this.#n.parent)}finally{b(c)}i&&x(()=>{this.#a=this.#d(()=>{this.#f=!0;try{return d(()=>{i(this.#t,()=>e,()=>o)})}catch(u){return B(u,this.#n.parent),null}finally{this.#f=!1}})})}}function Oe(t,e){for(var r=t.nodes_start,i=t.nodes_end;r!==null;){var n=r===i?null:Y(r);e.append(r),r=n}}const z=new Set,M=new Set;function Ce(t,e,r,i={}){function n(s){if(i.capture||E.call(e,s),!s.cancelBubble)return fe(()=>r?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?x(()=>{e.addEventListener(t,n,i)}):e.addEventListener(t,n,i),n}function Be(t,e,r,i,n){var s={capture:i,passive:n},o=Ce(t,e,r,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&he(()=>{e.removeEventListener(t,o,s)})}function He(t){for(var e=0;e<t.length;e++)z.add(t[e]);for(var r of M)r(t)}let H=null;function E(t){var e=this,r=e.ownerDocument,i=t.type,n=t.composedPath?.()||[],s=n[0]||t.target;H=t;var o=0,c=H===t&&t.__root;if(c){var u=n.indexOf(c);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var g=n.indexOf(e);if(g===-1)return;u<=g&&(o=u)}if(s=n[o]||t.target,s!==e){de(t,"currentTarget",{configurable:!0,get(){return s||r}});var A=L,h=m;b(null),k(null);try{for(var a,l=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var f=s["__"+i];if(f!=null&&(!s.disabled||t.target===s))if(_e(f)){var[$,...G]=f;$.apply(s,[t,...G])}else f.call(s,t)}catch(w){a?l.push(w):a=w}if(t.cancelBubble||v===e||v===null)break;s=v}if(a){for(let w of l)queueMicrotask(()=>{throw w});throw a}}finally{t.__root=e,delete t.currentTarget,b(A),k(h)}}}function je(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Me=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function qe(t){return Me.includes(t)}const Ve={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function We(t){return t=t.toLowerCase(),Ve[t]??t}const xe=["touchstart","touchmove"];function Fe(t){return xe.includes(t)}function Ye(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function Ie(t,e){return U(t,e)}function ze(t,e){O(),e.intro=e.intro??!1;const r=e.target,i=p,n=_;try{for(var s=pe(r);s&&(s.nodeType!==F||s.data!==ge);)s=Y(s);if(!s)throw C;T(!0),S(s);const o=U(t,{...e,anchor:s});return T(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(c=>c.startsWith("https://svelte.dev/e/")))throw o;return o!==C&&console.warn("Failed to hydrate: ",o),e.recover===!1&&ve(),O(),ye(r),T(!1),Ie(t,e)}finally{T(i),S(n)}}const y=new Map;function U(t,{target:e,anchor:r,props:i={},events:n,context:s,intro:o=!0}){O();var c=new Set,u=h=>{for(var a=0;a<h.length;a++){var l=h[a];if(!c.has(l)){c.add(l);var v=Fe(l);e.addEventListener(l,E,{passive:v});var f=y.get(l);f===void 0?(document.addEventListener(l,E,{passive:v}),y.set(l,1)):y.set(l,f+1)}}};u(be(z)),M.add(u);var g=void 0,A=Ee(()=>{var h=r??e.appendChild(me());return De(h,{pending:()=>{}},a=>{if(s){we({});var l=W;l.c=s}if(n&&(i.$$events=n),p&&Te(a,null),g=t(a,i)||{},p&&(m.nodes_end=_,_===null||_.nodeType!==F||_.data!==ke))throw Se(),C;s&&Ae()}),()=>{for(var a of c){e.removeEventListener(a,E);var l=y.get(a);--l===0?(document.removeEventListener(a,E),y.delete(a)):y.set(a,l)}M.delete(u),h!==r&&h.parentNode?.removeChild(h)}});return V.set(g,A),g}let V=new WeakMap;function Ue(t,e){const r=V.get(t);return r?(V.delete(t),r(e)):Promise.resolve()}export{qe as a,Ce as c,He as d,Be as e,ze as h,je as i,Ie as m,We as n,Ye as s,Ue as u};
